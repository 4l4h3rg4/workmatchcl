<!-- post-detail.page.html -->
<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/buscar"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ post?.title }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="post-detail" *ngIf="post">
    <div class="image-container">
      <button class="nav-button left" (click)="prevImage()" [disabled]="currentImageIndex === 0">
        &lt;
      </button>
      <img [src]="post?.images?.[currentImageIndex] || 'assets/placeholder.jpg'" alt="Imagen del post">
      <button class="nav-button right" (click)="nextImage()" [disabled]="currentImageIndex === (post?.images?.length || 0) - 1">
        &gt;
      </button>
    </div>
    <div class="post-info">
      <div class="user-info">
        <ion-avatar>
          <img [src]="user?.photoURL || 'assets/img/default-avatar.png'" alt="Avatar">
        </ion-avatar>
        <div>
          <h3>{{ user?.name || 'Usuario desconocido' }}</h3>
          <p>{{ user?.specialization || '' }}</p>
        </div>
        <ion-button fill="outline" (click)="toggleFollow()">
          {{ isFollowing ? 'Seguido' : 'Seguir' }}
        </ion-button>
      </div>
      <h2>{{ post?.title }}</h2>
      <p>{{ post?.description }}</p>
      <div class="technologies">
        <span *ngFor="let tech of post?.skills">{{ tech }}</span>
      </div>
      <div class="actions">
        <ion-icon name="heart-outline"></ion-icon> Me gusta
        <ion-icon name="share-social-outline" id="compartir"></ion-icon> Compartir
      </div>
    </div>
  </div>
</ion-content>

<app-footer></app-footer>